#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""Тест поддержки изображений"""

import requests
import time

print("=" * 60)
print("ТЕСТ ПОДДЕРЖКИ ИЗОБРАЖЕНИЙ")
print("=" * 60)

# Ждем запуска сервера
print("\nОжидание запуска сервера...")
for i in range(10):
    try:
        response = requests.get("http://localhost:8000/health", timeout=2)
        if response.status_code == 200:
            print("Сервер запущен!")
            break
    except:
        time.sleep(1)

print("\n" + "=" * 60)
print("ПОДДЕРЖИВАЕМЫЕ ФОРМАТЫ ИЗОБРАЖЕНИЙ:")
print("=" * 60)
print("  - JPG, JPEG")
print("  - PNG")
print("  - GIF")
print("  - WebP")
print("  - BMP")
print("  - SVG")
print("  - HEIC, HEIF (с предупреждением о необходимости скачивания)")
print("\n" + "=" * 60)
print("ИСПРАВЛЕНИЯ:")
print("=" * 60)
print("  1. Добавлена обработка ошибок загрузки изображений")
print("  2. Добавлена поддержка HEIC формата (с информационным сообщением)")
print("  3. Добавлены CORS заголовки для изображений")
print("  4. Улучшено отображение изображений (черный фон, правильное масштабирование)")
print("  5. Добавлен индикатор загрузки")
print("=" * 60)
print("\nТеперь:")
print("  - Обычные изображения (JPG, PNG и т.д.) должны отображаться корректно")
print("  - HEIC файлы покажут информационное сообщение с предложением скачать")
print("  - При ошибке загрузки покажется сообщение с опциями")
print("=" * 60)



