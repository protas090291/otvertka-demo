# üîç –û–ë–™–Ø–°–ù–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú –ü–†–û–°–¢–´–ú –Ø–ó–´–ö–û–ú

## 1. ‚ùå –ù–ï–°–û–û–¢–í–ï–¢–°–¢–í–ò–ï –§–û–†–ú–ê–¢–û–í –î–ê–ù–ù–´–•

### üìñ –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º:

**–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–∏—Ç—É–∞—Ü–∏—é:**
- –í –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ –∫–≤–∞—Ä—Ç–∏—Ä–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **"T202"**
- –í –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ —Ç–∞ –∂–µ –∫–≤–∞—Ä—Ç–∏—Ä–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **"T202-–ò"**
- –í —Ç—Ä–µ—Ç—å–µ–º –º–µ—Å—Ç–µ –æ–Ω–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **"202"**
- –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –æ–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ **"T202"** –∏–ª–∏ **"apartment-202"**

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∏—Å—Ç–µ–º–∞ –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –∫–≤–∞—Ä—Ç–∏—Ä–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–∞–∑–Ω—ã–µ!

### üîç –ü—Ä–∏–º–µ—Ä—ã –∏–∑ –≤–∞—à–µ–≥–æ –∫–æ–¥–∞:

#### –ü—Ä–∏–º–µ—Ä 1: –°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞—á
```typescript
// –í —Ñ–æ—Ä–º–µ (UI) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
status: 'in-progress'  // —Å –¥–µ—Ñ–∏—Å–æ–º

// –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
status: 'in_progress'  // —Å –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ–º

// –†–µ–∑—É–ª—å—Ç–∞—Ç: –û—à–∏–±–∫–∞! –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç 'in-progress'
```

#### –ü—Ä–∏–º–µ—Ä 2: ID –∫–≤–∞—Ä—Ç–∏—Ä
```typescript
// –í ProgressTable.tsx:
'T202-–ò': { fact: 0, plan: 0 }  // —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º -–ò

// –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å:
apartment_id: 'T202'  // –±–µ–∑ —Å—É—Ñ—Ñ–∏–∫—Å–∞

// –†–µ–∑—É–ª—å—Ç–∞—Ç: –î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ ID –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç!

// –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ö–≤–∞—Ä—Ç–∏—Ä—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º "–£" (–Ω–∞–ø—Ä–∏–º–µ—Ä, –£501, –£704) - —ç—Ç–æ 
// –∫–≤–∞—Ä—Ç–∏—Ä—ã –∏–∑ –≤—Ç–æ—Ä–æ–≥–æ –∫–æ—Ä–ø—É—Å–∞, –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–≤–æ–π –ø—Ä–µ—Ñ–∏–∫—Å!
```

#### –ü—Ä–∏–º–µ—Ä 3: ID –ø—Ä–æ–µ–∫—Ç–æ–≤
```typescript
// –í —Ñ–æ—Ä–º–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
projectId: '1'  // –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ

// –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
project_id: '550e8400-e29b-41d4-a716-446655440004'  // UUID

// –†–µ–∑—É–ª—å—Ç–∞—Ç: –û—à–∏–±–∫–∞! "invalid input syntax for type uuid: '1'"
```

---

## 2. ‚ùå –ù–ï–ü–û–õ–ù–ê–Ø –í–ê–õ–ò–î–ê–¶–ò–Ø –î–ê–ù–ù–´–•

### üìñ –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º:

**–í–∞–ª–∏–¥–∞—Ü–∏—è** = –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º.

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∏—Å—Ç–µ–º–∞ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ:
- –î–∞—Ç–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –¥–∞—Ç–∞ (–∞ –Ω–µ "–ø—Ä–∏–≤–µ—Ç")
- –ü—Ä–æ–≥—Ä–µ—Å—Å –æ—Ç 0 –¥–æ 100 (–∞ –Ω–µ 999%)
- –ù–æ–º–µ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (–∞ –Ω–µ "–∫–≤–∞—Ä—Ç–∏—Ä–∞-9999")
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

### üîç –ü—Ä–∏–º–µ—Ä—ã –∏–∑ –≤–∞—à–µ–≥–æ –∫–æ–¥–∞:

#### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–¥–∞—á–∏
```typescript
// –°–µ–π—á–∞—Å –≤ –∫–æ–¥–µ:
insertData.progress_percentage = task.progress || 0;

// –ü—Ä–æ–±–ª–µ–º–∞: –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å -50 –∏–ª–∏ 150, –∏ —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç!
// –ü—Ä–∞–≤–∏–ª—å–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
if (task.progress < 0 || task.progress > 100) {
  throw new Error('–ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 0 –¥–æ 100');
}
```

#### –ü—Ä–∏–º–µ—Ä 2: –î–∞—Ç–∞
```typescript
// –°–µ–π—á–∞—Å –≤ –∫–æ–¥–µ:
if (task.startDate && task.startDate.trim() !== '') {
  insertData.start_date = task.startDate.trim();
}

// –ü—Ä–æ–±–ª–µ–º–∞: –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å "–ø—Ä–∏–≤–µ—Ç" –∏–ª–∏ "32.13.2025", –∏ —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç!
// –ü—Ä–∞–≤–∏–ª—å–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
if (task.startDate) {
  const date = new Date(task.startDate);
  if (isNaN(date.getTime())) {
    throw new Error('–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã');
  }
  insertData.start_date = task.startDate.trim();
}
```

#### –ü—Ä–∏–º–µ—Ä 3: –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
```typescript
// –°–µ–π—á–∞—Å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ:
if (!task.projectId || task.projectId.trim() === '') {
  throw new Error('ID –ø—Ä–æ–µ–∫—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω');
}

// –ù–æ –ù–ï –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:
// - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–∏ —Ñ–æ—Ä–º–∞—Ç project_id (UUID –∏–ª–∏ —Å—Ç—Ä–æ–∫–∞)?
// - –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø—Ä–æ–µ–∫—Ç —Å —Ç–∞–∫–∏–º ID?
// - –ù–µ –ø—É—Å—Ç–∞—è –ª–∏ —Å—Ç—Ä–æ–∫–∞ –ø–æ—Å–ª–µ trim()?
```

---

## üõ†Ô∏è –ö–ê–ö –ò–°–ü–†–ê–í–ò–¢–¨

### –†–µ—à–µ–Ω–∏–µ 1: –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—É—é —Å–∏—Å—Ç–µ–º—É –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª `Helper2/src/lib/dataNormalizer.ts`:

```typescript
/**
 * –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
 * –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤ –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
 */

// –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è ID –∫–≤–∞—Ä—Ç–∏—Ä—ã
export const normalizeApartmentId = (apartmentId: string): string => {
  // –£–±–∏—Ä–∞–µ–º –≤—Å–µ —Å—É—Ñ—Ñ–∏–∫—Å—ã –∏ –ø—Ä–µ—Ñ–∏–∫—Å—ã, –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω–æ–º–µ—Ä
  const match = apartmentId.match(/(\d+)/);
  if (match) {
    const number = match[1];
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤ –µ–¥–∏–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ: T + –Ω–æ–º–µ—Ä
    return `T${number}`;
  }
  return apartmentId;
};

// –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞
export const normalizeStatus = (status: string): 'pending' | 'in_progress' | 'completed' | 'delayed' => {
  const normalized = status.toLowerCase().replace('-', '_');
  if (normalized === 'in_progress' || normalized === 'in-progress') {
    return 'in_progress';
  }
  if (['pending', 'completed', 'delayed'].includes(normalized)) {
    return normalized as any;
  }
  return 'pending'; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
};

// –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è ID –ø—Ä–æ–µ–∫—Ç–∞
export const normalizeProjectId = (projectId: string): string => {
  // –ï—Å–ª–∏ —ç—Ç–æ —á–∏—Å–ª–æ, –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ —Ä–µ–∞–ª—å–Ω—ã–π UUID –ø—Ä–æ–µ–∫—Ç–∞
  if (/^\d+$/.test(projectId)) {
    // TODO: –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ–µ–∫—Ç—ã –∏ –Ω–∞–π—Ç–∏ UUID –ø–æ –Ω–æ–º–µ—Ä—É
    throw new Error('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UUID –ø—Ä–æ–µ–∫—Ç–∞, –∞ –Ω–µ –Ω–æ–º–µ—Ä');
  }
  return projectId.trim();
};
```

### –†–µ—à–µ–Ω–∏–µ 2: –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª `Helper2/src/lib/dataValidator.ts`:

```typescript
/**
 * –°–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
 * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
 */

// –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (0-100)
export const validateProgress = (progress: number): void => {
  if (typeof progress !== 'number') {
    throw new Error('–ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º');
  }
  if (progress < 0 || progress > 100) {
    throw new Error('–ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 0 –¥–æ 100');
  }
  if (!Number.isInteger(progress)) {
    throw new Error('–ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º');
  }
};

// –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç—ã
export const validateDate = (dateString: string, fieldName: string): void => {
  if (!dateString || dateString.trim() === '') {
    return; // –ü—É—Å—Ç–∞—è –¥–∞—Ç–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞
  }
  
  const date = new Date(dateString);
  if (isNaN(date.getTime())) {
    throw new Error(`${fieldName} –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD`);
  }
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–æ—Ä–º–∞—Ç YYYY-MM-DD
  const dateRegex = /^\d{4}-\d{2}-\d{2}$/;
  if (!dateRegex.test(dateString.trim())) {
    throw new Error(`${fieldName} –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD`);
  }
};

// –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è
export const validateRequired = (value: any, fieldName: string): void => {
  if (!value || (typeof value === 'string' && value.trim() === '')) {
    throw new Error(`–ü–æ–ª–µ "${fieldName}" –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è`);
  }
};

// –í–∞–ª–∏–¥–∞—Ü–∏—è ID –∫–≤–∞—Ä—Ç–∏—Ä—ã
export const validateApartmentId = (apartmentId: string): void => {
  if (!apartmentId || apartmentId.trim() === '') {
    throw new Error('ID –∫–≤–∞—Ä—Ç–∏—Ä—ã –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω');
  }
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–æ—Ä–º–∞—Ç: T + —á–∏—Å–ª–æ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ
  const validFormat = /^T?\d+(-–ò)?$/.test(apartmentId.trim());
  if (!validFormat) {
    throw new Error(`–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ID –∫–≤–∞—Ä—Ç–∏—Ä—ã: ${apartmentId}`);
  }
};

// –í–∞–ª–∏–¥–∞—Ü–∏—è ID –ø—Ä–æ–µ–∫—Ç–∞ (UUID –∏–ª–∏ —Å—Ç—Ä–æ–∫–∞)
export const validateProjectId = (projectId: string): void => {
  if (!projectId || projectId.trim() === '') {
    throw new Error('ID –ø—Ä–æ–µ–∫—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω');
  }
  
  // UUID —Ñ–æ—Ä–º–∞—Ç
  const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;
  // –°—Ç—Ä–æ–∫–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, zhk-vishnevyy-sad)
  const stringRegex = /^[a-z0-9-]+$/i;
  
  if (!uuidRegex.test(projectId) && !stringRegex.test(projectId)) {
    throw new Error(`–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ID –ø—Ä–æ–µ–∫—Ç–∞: ${projectId}`);
  }
};
```

### –†–µ—à–µ–Ω–∏–µ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –≤ –∫–æ–¥–µ

–û–±–Ω–æ–≤–∏–º `tasksApi.ts`:

```typescript
import { normalizeStatus, normalizeProjectId } from './dataNormalizer';
import { validateRequired, validateProgress, validateDate, validateProjectId } from './dataValidator';

export const createTask = async (task: TaskInput): Promise<Task | null> => {
  try {
    // 1. –í–ê–õ–ò–î–ê–¶–ò–Ø - –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
    validateRequired(task.projectId, 'ID –ø—Ä–æ–µ–∫—Ç–∞');
    validateRequired(task.name, '–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏');
    validateProjectId(task.projectId);
    validateProgress(task.progress || 0);
    
    if (task.startDate) {
      validateDate(task.startDate, '–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞');
    }
    if (task.endDate) {
      validateDate(task.endDate, '–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è');
    }
    
    // 2. –ù–û–†–ú–ê–õ–ò–ó–ê–¶–ò–Ø - –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
    const normalizedProjectId = normalizeProjectId(task.projectId);
    const normalizedStatus = normalizeStatus(task.status || 'pending');
    
    // 3. –°–û–ó–î–ê–ù–ò–ï - –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    const insertData: any = {
      project_id: normalizedProjectId,
      title: task.name.trim(),
      status: normalizedStatus,
      progress_percentage: Math.max(0, Math.min(100, task.progress || 0))
    };
    
    // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
  } catch (error) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  }
};
```

---

## üìù –ü–†–ò–ú–ï–†–´ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### –ü—Ä–∏–º–µ—Ä 1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–≤–∞—Ä—Ç–∏—Ä

**–ë—ã–ª–æ:**
```typescript
// –í —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:
'T202-–ò'  // –≤ ProgressTable
'T202'    // –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
'202'     // –≤ —Å–ø–∏—Å–∫–µ –∫–≤–∞—Ä—Ç–∏—Ä
'–£501'    // –∫–≤–∞—Ä—Ç–∏—Ä–∞ –∏–∑ –≤—Ç–æ—Ä–æ–≥–æ –∫–æ—Ä–ø—É—Å–∞
```

**–°—Ç–∞–ª–æ:**
```typescript
// –í–µ–∑–¥–µ –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø—Ä–µ—Ñ–∏–∫—Å–∞ –∫–æ—Ä–ø—É—Å–∞:
normalizeApartmentId('T202-–ò')  // ‚Üí 'T202' (–ø–µ—Ä–≤—ã–π –∫–æ—Ä–ø—É—Å, —É–±–∏—Ä–∞–µ–º -–ò)
normalizeApartmentId('T202')     // ‚Üí 'T202' (–ø–µ—Ä–≤—ã–π –∫–æ—Ä–ø—É—Å)
normalizeApartmentId('202')      // ‚Üí 'T202' (–ø–µ—Ä–≤—ã–π –∫–æ—Ä–ø—É—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
normalizeApartmentId('–£501')     // ‚Üí '–£501' (–≤—Ç–æ—Ä–æ–π –∫–æ—Ä–ø—É—Å, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–µ—Ñ–∏–∫—Å)
normalizeApartmentId('–£704')     // ‚Üí '–£704' (–≤—Ç–æ—Ä–æ–π –∫–æ—Ä–ø—É—Å, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–µ—Ñ–∏–∫—Å)
```

### –ü—Ä–∏–º–µ—Ä 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

**–ë—ã–ª–æ:**
```typescript
insertData.progress_percentage = task.progress || 0;
// –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å -50 –∏–ª–∏ 150 - –æ—à–∏–±–∫–∞!
```

**–°—Ç–∞–ª–æ:**
```typescript
validateProgress(task.progress || 0);
insertData.progress_percentage = Math.max(0, Math.min(100, task.progress || 0));
// –¢–µ–ø–µ—Ä—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ!
```

### –ü—Ä–∏–º–µ—Ä 3: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞—Ç—ã

**–ë—ã–ª–æ:**
```typescript
if (task.startDate && task.startDate.trim() !== '') {
  insertData.start_date = task.startDate.trim();
}
// –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å "–ø—Ä–∏–≤–µ—Ç" - –æ—à–∏–±–∫–∞!
```

**–°—Ç–∞–ª–æ:**
```typescript
if (task.startDate) {
  validateDate(task.startDate, '–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞');
  insertData.start_date = task.startDate.trim();
}
// –¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã!
```

---

## üéØ –ò–¢–û–ì

### –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö:
- **–ü—Ä–æ–±–ª–µ–º–∞:** –û–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö
- **–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—É—é —Å–∏—Å—Ç–µ–º—É –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

### –ù–µ–ø–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- **–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë –≤–µ–∑–¥–µ

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
1. ‚úÖ –°–æ–∑–¥–∞—Ç—å `dataNormalizer.ts` - –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–æ–≤
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å `dataValidator.ts` - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –≤–æ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

**–•–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è —Å–æ–∑–¥–∞–ª —ç—Ç–∏ —Ñ–∞–π–ª—ã –∏ –∏—Å–ø—Ä–∞–≤–∏–ª –∫–æ–¥?**

