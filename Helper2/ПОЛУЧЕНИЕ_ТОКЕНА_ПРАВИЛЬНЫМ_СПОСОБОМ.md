# üîë –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è OAuth —Ç–æ–∫–µ–Ω–∞

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞

–í—ã –ø–æ–ª—É—á–∏–ª–∏ **–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–¥** (authorization code), –∞ –Ω–µ OAuth —Ç–æ–∫–µ–Ω. –ù—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –Ω–∞–ø—Ä—è–º—É—é.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –Ω–∞–ø—Ä—è–º—É—é (implicit flow)

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Å—ã–ª–∫—É –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**

```
https://oauth.yandex.ru/authorize?response_type=token&client_id=fd2ebdae34ae4516a13ec9e0038d835c
```

**–í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `response_type=token` (–Ω–µ `code`!)

### –®–∞–≥ 2: –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø

1. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –Ø–Ω–¥–µ–∫—Å –∞–∫–∫–∞—É–Ω—Ç (–µ—Å–ª–∏ –Ω–µ –≤–æ—à–ª–∏)
2. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –Ø–Ω–¥–µ–∫—Å –î–∏—Å–∫—É
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–†–∞–∑—Ä–µ—à–∏—Ç—å"**

### –®–∞–≥ 3: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –∏–∑ URL

–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –≤–∞—Å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å URL –≤–∏–¥–∞:

```
http://localhost:8000/#access_token=AQAAAAAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&token_type=bearer&expires_in=31536000
```

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

1. **–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –∞–¥—Ä–µ—Å–Ω—É—é —Å—Ç—Ä–æ–∫—É –±—Ä–∞—É–∑–µ—Ä–∞**
2. **–ù–∞–π–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `access_token=`**
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ `access_token=` –¥–æ —Å–∏–º–≤–æ–ª–∞ `&`**

**–ü—Ä–∏–º–µ—Ä:**
–ï—Å–ª–∏ URL —Ç–∞–∫–æ–π:
```
http://localhost:8000/#access_token=AQAAAAA1234567890abcdef1234567890abcdef&token_type=bearer
```

–¢–æ —Ç–æ–∫–µ–Ω –±—É–¥–µ—Ç:
```
AQAAAAA1234567890abcdef1234567890abcdef
```

### –®–∞–≥ 4: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à OAuth —Ç–æ–∫–µ–Ω** - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

**–§–æ—Ä–º–∞—Ç —Ç–æ–∫–µ–Ω–∞:**
- –û–±—ã—á–Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `AQAAAAA` –∏–ª–∏ `y0_`
- –î–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–∑ –±—É–∫–≤, —Ü–∏—Ñ—Ä –∏ —Å–∏–º–≤–æ–ª–æ–≤
- –ú–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–Ω–æ–π –¥–ª–∏–Ω—ã

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±: –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥ –∏ –æ–±–º–µ–Ω—è—Ç—å

–ï—Å–ª–∏ –ø–µ—Ä–≤—ã–π —Å–ø–æ—Å–æ–± –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç:

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π authorization code

–û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É:
```
https://oauth.yandex.ru/authorize?response_type=code&client_id=fd2ebdae34ae4516a13ec9e0038d835c
```

### –®–∞–≥ 2: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏–∑ URL

–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ URL –±—É–¥–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `code=...` - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ.

### –®–∞–≥ 3: –û–±–º–µ–Ω—è–π—Ç–µ –∫–æ–¥ –Ω–∞ —Ç–æ–∫–µ–Ω

**–ù—É–∂–µ–Ω Client Secret!** –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç Client Secret:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://oauth.yandex.ru/
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Client Secret** (–µ—Å–ª–∏ –µ—Å—Ç—å)
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `exchange_code_for_token.py` —Å Client Secret

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞:

1. **OAuth —Ç–æ–∫–µ–Ω** (–∫–æ—Ç–æ—Ä—ã–π –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –∏–∑ URL)
2. **–ü—É—Ç—å –∫ –ø–∞–ø–∫–µ:** `/–í–∏—à–Ω–µ–≤—ã–π —Å–∞–¥-3 –¥–ª—è –ó–∞–∫–∞–∑—á–∏–∫–∞` (—É–∂–µ –∏–∑–≤–µ—Å—Ç–µ–Ω)

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `response_type=token` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –Ω–∞–ø—Ä—è–º—É—é
- ‚úÖ –¢–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `AQAAAAA` –∏–ª–∏ `y0_`
- ‚úÖ –¢–æ–∫–µ–Ω - —ç—Ç–æ –∫–∞–∫ –ø–∞—Ä–æ–ª—å, —Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –¢–æ–∫–µ–Ω –º–æ–∂–µ—Ç –∏—Å—Ç–µ—á—å (–æ–±—ã—á–Ω–æ —á–µ—Ä–µ–∑ –≥–æ–¥)

---

**–ì–æ—Ç–æ–≤–æ!** –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Å—ã–ª–∫—É –≤—ã—à–µ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –Ω–∞–ø—Ä—è–º—É—é.









