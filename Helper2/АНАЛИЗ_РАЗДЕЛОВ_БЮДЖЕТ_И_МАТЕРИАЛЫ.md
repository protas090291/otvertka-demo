# üìä –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–¥–µ–ª–æ–≤ "–ë—é–¥–∂–µ—Ç" –∏ "–ú–∞—Ç–µ—Ä–∏–∞–ª—ã"

## üîç –û–±–∑–æ—Ä

–û–±–∞ —Ä–∞–∑–¥–µ–ª–∞ **–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö Supabase** –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

---

## üí∞ –†–∞–∑–¥–µ–ª "–ë—é–¥–∂–µ—Ç"

### ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Supabase

**–¢–∞–±–ª–∏—Ü–∞:** `budget_items`

**API —Ñ–∞–π–ª:** `Helper2/src/lib/budgetApi.ts`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `Helper2/src/components/BudgetViewWithAPI.tsx`

### üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã `budget_items`

```sql
CREATE TABLE budget_items (
  id UUID PRIMARY KEY,
  category TEXT NOT NULL,              -- –ö–∞—Ç–µ–≥–æ—Ä–∏—è (–ú–∞—Ç–µ—Ä–∏–∞–ª—ã, –†–∞–±–æ—á–∞—è —Å–∏–ª–∞, –∏ —Ç.–¥.)
  description TEXT NOT NULL,           -- –û–ø–∏—Å–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  amount DECIMAL(15,2) NOT NULL,      -- –°—É–º–º–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏
  type TEXT NOT NULL,                  -- –¢–∏–ø: 'expense' (—Ä–∞—Å—Ö–æ–¥) –∏–ª–∏ 'income' (–¥–æ—Ö–æ–¥)
  date DATE NOT NULL,                  -- –î–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏
  project_id TEXT NOT NULL,            -- ID –ø—Ä–æ–µ–∫—Ç–∞
  created_at TIMESTAMP,                -- –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
  updated_at TIMESTAMP,                -- –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  created_by TEXT                      -- –ö—Ç–æ —Å–æ–∑–¥–∞–ª
);
```

### üîß –§—É–Ω–∫—Ü–∏–∏ API

- `getAllBudgetItems()` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –±—é–¥–∂–µ—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `getBudgetItemsByProject(projectId)` - –ü–æ–ª—É—á–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–µ–∫—Ç—É
- `getBudgetItemsByCategory(category)` - –ü–æ–ª—É—á–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `createBudgetItem(item)` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –æ–ø–µ—Ä–∞—Ü–∏—é
- `updateBudgetItem(id, updates)` - –û–±–Ω–æ–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
- `deleteBudgetItem(id)` - –£–¥–∞–ª–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
- `getProjectBudget(projectId)` - –ü–æ–ª—É—á–∏—Ç—å –±—é–¥–∂–µ—Ç –ø—Ä–æ–µ–∫—Ç–∞
- `getBudgetStats(projectId?)` - –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –±—é–¥–∂–µ—Ç–∞

### üìä –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–†–∞–∑–¥–µ–ª —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É `projects` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±—é–¥–∂–µ—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞:
- `total_budget` - –û–±—â–∏–π –±—é–¥–∂–µ—Ç –ø—Ä–æ–µ–∫—Ç–∞
- `spent` - –ü–æ—Ç—Ä–∞—á–µ–Ω–Ω–∞—è —Å—É–º–º–∞

---

## üì¶ –†–∞–∑–¥–µ–ª "–ú–∞—Ç–µ—Ä–∏–∞–ª—ã"

### ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Supabase

**–¢–∞–±–ª–∏—Ü–∞:** `warehouse_items`

**API —Ñ–∞–π–ª:** `Helper2/src/lib/materialsApi.ts`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `Helper2/src/components/MaterialsViewWithAPI.tsx`

### üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã `warehouse_items`

```sql
CREATE TABLE warehouse_items (
  id UUID PRIMARY KEY,
  name TEXT NOT NULL,                  -- –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏
  category TEXT NOT NULL,              -- –ö–∞—Ç–µ–≥–æ—Ä–∏—è: 'materials', 'tools', 'equipment', 'consumables'
  subcategory TEXT NOT NULL,           -- –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è
  quantity INTEGER NOT NULL,           -- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
  unit TEXT NOT NULL,                  -- –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è
  volume DECIMAL(10,3),                -- –û–±—ä–µ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  volume_unit TEXT,                    -- –ï–¥–∏–Ω–∏—Ü–∞ –æ–±—ä–µ–º–∞
  min_quantity INTEGER NOT NULL,       -- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞–ø–∞—Å
  max_quantity INTEGER NOT NULL,       -- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∑–∞–ø–∞—Å
  cost_per_unit DECIMAL(10,2),        -- –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É
  supplier TEXT NOT NULL,              -- –ü–æ—Å—Ç–∞–≤—â–∏–∫
  location TEXT NOT NULL,              -- –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Å–∫–ª–∞–¥–µ
  last_updated DATE,                   -- –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  status TEXT NOT NULL,                -- –°—Ç–∞—Ç—É—Å: 'in-stock', 'low-stock', 'out-of-stock', 'reserved'
  condition TEXT NOT NULL,            -- –°–æ—Å—Ç–æ—è–Ω–∏–µ: 'new', 'good', 'fair', 'needs-repair'
  notes TEXT,                          -- –ó–∞–º–µ—Ç–∫–∏
  created_at TIMESTAMP,                -- –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
  updated_at TIMESTAMP,                -- –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  created_by TEXT                      -- –ö—Ç–æ —Å–æ–∑–¥–∞–ª
);
```

### üîß –§—É–Ω–∫—Ü–∏–∏ API

- `getAllWarehouseItems()` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ —Å–∫–ª–∞–¥–∞
- `getWarehouseItemsByCategory(category)` - –ü–æ–ª—É—á–∏—Ç—å –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `getWarehouseItemsByStatus(status)` - –ü–æ–ª—É—á–∏—Ç—å –ø–æ —Å—Ç–∞—Ç—É—Å—É
- `searchWarehouseItems(searchTerm)` - –ü–æ–∏—Å–∫ –ø–æ–∑–∏—Ü–∏–π
- `createWarehouseItem(item)` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é
- `updateWarehouseItem(id, updates)` - –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é
- `updateWarehouseItemQuantity(id, operation, amount)` - –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- `deleteWarehouseItem(id)` - –£–¥–∞–ª–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é
- `getWarehouseStats()` - –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–∫–ª–∞–¥–∞
- `getLowStockItems()` - –ü–æ–ª—É—á–∏—Ç—å –ø–æ–∑–∏—Ü–∏–∏ —Å –Ω–∏–∑–∫–∏–º –∑–∞–ø–∞—Å–æ–º

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ç–∞–±–ª–∏—Ü –≤ Supabase

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Supabase Dashboard

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Supabase Dashboard](https://supabase.com/dashboard)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Table Editor**
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ç–∞–±–ª–∏—Ü:
   - `budget_items`
   - `warehouse_items`

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ SQL Editor

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç SQL –∑–∞–ø—Ä–æ—Å –≤ Supabase SQL Editor:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ç–∞–±–ª–∏—Ü
SELECT 
  table_name,
  CASE 
    WHEN table_name = 'budget_items' THEN '‚úÖ –ë—é–¥–∂–µ—Ç'
    WHEN table_name = 'warehouse_items' THEN '‚úÖ –ú–∞—Ç–µ—Ä–∏–∞–ª—ã'
    ELSE '‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω–æ'
  END as status
FROM information_schema.tables
WHERE table_schema = 'public'
  AND table_name IN ('budget_items', 'warehouse_items')
ORDER BY table_name;
```

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª **"–ë—é–¥–∂–µ—Ç"** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
2. –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤—ã —É–≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª **"–ú–∞—Ç–µ—Ä–∏–∞–ª—ã"** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
4. –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤—ã —É–≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

---

## üöÄ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü (–µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–æ–∑–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –±—é–¥–∂–µ—Ç–∞

–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç: `Helper2/supabase-budget-setup.sql`

**–ß—Ç–æ —Å–æ–∑–¥–∞—Å—Ç—Å—è:**
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `budget_items`
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞—Ç
- ‚úÖ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç: `Helper2/supabase-materials-setup.sql`

**–ß—Ç–æ —Å–æ–∑–¥–∞—Å—Ç—Å—è:**
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `warehouse_items`
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞—Ç
- ‚úÖ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å—Ä–∞–∑—É

–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç: `Helper2/supabase-complete-setup.sql`

**–ß—Ç–æ —Å–æ–∑–¥–∞—Å—Ç—Å—è:**
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `budget_items`
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `warehouse_items`
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `reports`
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `schedule_events`
- ‚úÖ –í—Å–µ –∏–Ω–¥–µ–∫—Å—ã, —Ç—Ä–∏–≥–≥–µ—Ä—ã –∏ –ø–æ–ª–∏—Ç–∏–∫–∏
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ (—Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏)

–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç: `Helper2/supabase-safe-setup.sql`

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º
- ‚úÖ –ù–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

---

## üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–∞–±–ª–∏—Ü

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [https://supabase.com/dashboard](https://supabase.com/dashboard)
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–π–¥–∏—Ç–µ **SQL Editor**
2. –ù–∞–∂–º–∏—Ç–µ **New Query** (–ù–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å)

### –®–∞–≥ 3: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `Helper2/supabase-budget-setup.sql` (–¥–ª—è –±—é–¥–∂–µ—Ç–∞)
   –ò–õ–ò
   –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `Helper2/supabase-materials-setup.sql` (–¥–ª—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤)
   –ò–õ–ò
   –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `Helper2/supabase-complete-setup.sql` (–¥–ª—è –≤—Å–µ–≥–æ —Å—Ä–∞–∑—É)

2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞

3. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor –≤ Supabase

4. –ù–∞–∂–º–∏—Ç–µ **Run** (–í—ã–ø–æ–ª–Ω–∏—Ç—å) –∏–ª–∏ `Ctrl+Enter`

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Table Editor**
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã:
   - `budget_items` (–¥–ª—è —Ä–∞–∑–¥–µ–ª–∞ "–ë—é–¥–∂–µ—Ç")
   - `warehouse_items` (–¥–ª—è —Ä–∞–∑–¥–µ–ª–∞ "–ú–∞—Ç–µ—Ä–∏–∞–ª—ã")

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª **"–ë—é–¥–∂–µ—Ç"** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
2. –î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª **"–ú–∞—Ç–µ—Ä–∏–∞–ª—ã"** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
4. –î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü—ã `budget_items`

```sql
-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –±—é–¥–∂–µ—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
SELECT * FROM budget_items ORDER BY date DESC LIMIT 10;

-- –ü–æ—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π
SELECT COUNT(*) as total_items FROM budget_items;

-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–µ–∫—Ç—É
SELECT * FROM budget_items WHERE project_id = 'zhk-vishnevyy-sad';
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü—ã `warehouse_items`

```sql
-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ —Å–∫–ª–∞–¥–∞
SELECT * FROM warehouse_items ORDER BY name LIMIT 10;

-- –ü–æ—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π
SELECT COUNT(*) as total_items FROM warehouse_items;

-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∏—Ü–∏–∏ —Å –Ω–∏–∑–∫–∏–º –∑–∞–ø–∞—Å–æ–º
SELECT * FROM warehouse_items WHERE status IN ('low-stock', 'out-of-stock');
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. RLS (Row Level Security)

–û–±–µ —Ç–∞–±–ª–∏—Ü—ã –∏–º–µ—é—Ç –≤–∫–ª—é—á–µ–Ω–Ω—ã–π RLS (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ç—Ä–æ–∫). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ç–∞–∫, —á—Ç–æ:
- ‚úÖ –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —É–¥–∞–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞.**

### 2. –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

SQL —Å–∫—Ä–∏–ø—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ. –ï—Å–ª–∏ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∏—Ö –¥–æ–±–∞–≤–ª—è—Ç—å:
- –£–¥–∞–ª–∏—Ç–µ –±–ª–æ–∫–∏ `INSERT INTO ...` –∏–∑ SQL —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º

### 3. –ò–Ω–¥–µ–∫—Å—ã

–¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤:
- `budget_items`: –∏–Ω–¥–µ–∫—Å—ã –ø–æ `project_id`, `date`, `type`, `category`
- `warehouse_items`: –∏–Ω–¥–µ–∫—Å—ã –ø–æ `category`, `status`, `name`, `supplier`, `location`

### 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞—Ç

–¢—Ä–∏–≥–≥–µ—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç:
- `updated_at` - –ø—Ä–∏ –ª—é–±–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∑–∞–ø–∏—Å–∏
- `last_updated` (–¥–ª—è `warehouse_items`) - –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–æ–∑–∏—Ü–∏–∏ —Å–∫–ª–∞–¥–∞

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –†–∞–∑–¥–µ–ª "–ë—é–¥–∂–µ—Ç"

- **–¢–∞–±–ª–∏—Ü–∞:** `budget_items`
- **–°–≤—è–∑–∞–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞:** `projects` (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±—é–¥–∂–µ—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞)
- **–û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:** –°–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –±—é–¥–∂–µ—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —ç–∫—Å–ø–æ—Ä—Ç –≤ CSV, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

### –†–∞–∑–¥–µ–ª "–ú–∞—Ç–µ—Ä–∏–∞–ª—ã"

- **–¢–∞–±–ª–∏—Ü–∞:** `warehouse_items`
- **–û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥—Å–∫–∏–º–∏ –ø–æ–∑–∏—Ü–∏—è–º–∏, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞, –ø–æ–∏—Å–∫
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∫–ª–∞–¥–∞, –ø–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É

---

## ‚úÖ –ò—Ç–æ–≥

### –ë—é–¥–∂–µ—Ç
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å Supabase**
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É:** `budget_items`
- ‚úÖ **API –≥–æ—Ç–æ–≤:** `budgetApi.ts`
- ‚úÖ **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–æ—Ç–æ–≤:** `BudgetViewWithAPI.tsx`
- ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç—Å—è:** –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `budget_items` –≤ Supabase (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞)

### –ú–∞—Ç–µ—Ä–∏–∞–ª—ã
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å Supabase**
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É:** `warehouse_items`
- ‚úÖ **API –≥–æ—Ç–æ–≤:** `materialsApi.ts`
- ‚úÖ **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–æ—Ç–æ–≤:** `MaterialsViewWithAPI.tsx`
- ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç—Å—è:** –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `warehouse_items` –≤ Supabase (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞)

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ç–∞–±–ª–∏—Ü** –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–∞–∑–¥–µ–ª–æ–≤
2. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã** –∏—Å–ø–æ–ª—å–∑—É—è SQL —Å–∫—Ä–∏–ø—Ç—ã, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏** –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (–æ–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø)
4. **–î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É** —Ä–∞–∑–¥–µ–ª–æ–≤ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤—ã –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏ –∫–∞–∫ –∏—Ö —Å–æ–∑–¥–∞—Ç—å. üéâ










